#: import LowerTextInput uix.lowertextinput

<Button>:
    font_name: 'Roboto-BoldItalic'

<ToggleButton>:
    font_name: 'Roboto-BoldItalic'

<TextInput>:
    font_name: 'Roboto-BoldItalic'

<EditCommandPopup>:
    title_font: 'Roboto-BoldItalic'
    size_hint_y: None
    height: content.height + dp(70)
    pos_hint: {'center_y':.6}

    GridLayout:
        id: content
        cols: 1
        size_hint_y: None
        height: self.minimum_height
        spacing: dp(6)

        GridLayout:
            rows: 3
            size_hint_y: None
            height: self.minimum_height
            spacing: dp(5)

            LowerTextInput:
                id: command_text
                size_hint_y: None
                height: self.font_size*6
                hint_text: 'Команда'.decode('utf8')
            TextInput:
                id: response_text
                size_hint_y: None
                height: self.font_size*6
                hint_text: 'Ответ'.decode('utf8')
            GridLayout:
                cols: 5
                size_hint_y: None
                height: self.minimum_height
                spacing: dp(5)

                ToggleButton:
                    id: regex_btn
                    text: '      r      '
                    font_size: '16sp'
                    background_color: 1, 0, 0, .6
                    size_hint: None, None
                    size: self.texture_size[0], self.texture_size[1]*2.3
                    on_release: self.background_color = [0, 1, 0, .6] if self.background_color[:-1] == [1, 0, 0] else [1, 0, 0, .6]
                ToggleButton:
                    id: force_unmark_btn
                    text: "      !'      "
                    font_size: '16sp'
                    background_color: 1, 0, 0, .6
                    size_hint: None, None
                    size: self.texture_size[0], self.texture_size[1]*2.3
                    on_release: self.background_color = [0, 1, 0, .6] if self.background_color[:-1] == [1, 0, 0] else [1, 0, 0, .6]
                ToggleButton:
                    id: force_forward_btn
                    text: "      f      "
                    font_size: '16sp'
                    background_color: 1, 0, 0, .6
                    size_hint: None, None
                    size: self.texture_size[0], self.texture_size[1]*2.3
                    on_release: self.background_color = [0, 1, 0, .6] if self.background_color[:-1] == [1, 0, 0] else [1, 0, 0, .6]
                ToggleButton:
                    id: disable_btn
                    text: "   disable   "
                    font_size: '16sp'
                    background_color: 1, 0, 0, .6
                    size_hint: None, None
                    size: self.texture_size[0], self.texture_size[1]*2.3
                    on_release: self.background_color = [0, 1, 0, .6] if self.background_color[:-1] == [1, 0, 0] else [1, 0, 0, .6]
                Widget:
        GridLayout:
            cols: 3
            size_hint_y: None
            height: self.minimum_height
            spacing: dp(5)

            Button:
                id: apply_btn
                text: 'Применить'
            Button:
                id: delete_command_btn
                text: '      X      '
                font_size: '16sp'
                background_color: 1, 0, 0, 1
                size_hint: None, None
                size: self.texture_size[0], self.texture_size[1]*2.3
            Button:
                text: 'Отмена'
                on_release: root.dismiss()
