#: import LowerTextInput uix.widgets
#: import Widget uix.widgets


<OptionButton>:
    size_hint: None, None
    size: dp(55), dp(55)

    #on_release: self.next_state()


<EditCommandPopup>:
    id: root_popup
    title_font: 'Roboto-BoldItalic'
    size_hint_y: None
    height: content.height + dp(70)
    pos_hint: {'center_y':.6}

    BoxLayout:
        orientation: 'vertical'
        id: content
        size_hint_y: None
        height: self.minimum_height
        spacing: dp(6)

        BoxLayout:
            orientation: 'vertical'
            size_hint_y: None
            height: self.minimum_height
            spacing: dp(5)

            LowerTextInput:
                id: command_textinput
                text_size: self.width, None
                size_hint_y: None
                height:
                    min((self.line_height + dp(1)) * 6, max((self.line_height + dp(1)) * 3, self.minimum_height))
                hint_text: 'Команда'

            TextInput:
                id: response_textinput
                text_size: self.width, None
                size_hint_y: None
                height:
                    min((self.line_height + dp(1)) * 6, max((self.line_height + dp(1)) * 3, self.minimum_height))
                hint_text: 'Ответ'

            BoxLayout:
                size_hint_y: None
                height: self.minimum_height
                spacing: dp(1)

                OptionButton:
                    states: (0, 2)
                    option_number: 0
                    id: regex_btn
                    text: 'G'
                    on_release: self.next_state()

                Widget

                OptionButton:
                    states: (0, 2)
                    option_number: 1
                    id: force_unmark_btn
                    text: 'F'
                    on_release: self.next_state()

                Widget

                OptionButton:
                    states: (0, 1, 2)
                    option_number: 2
                    id: force_forward_btn
                    text: 'M'
                    on_release: self.next_state()

                Widget

                OptionButton:
                    states: (0, 1, 2)
                    option_number: 3
                    id: appeal_only_btn
                    text: 'A'

                Widget

                OptionButton:
                    states: (0, 2)
                    option_number: 4
                    id: disable_btn
                    text: 'D'

        BoxLayout:
            spacing: dp(5)
            size_hint_y: None
            height: self.minimum_height

            Button:
                id: apply_btn
                text: 'Применить'
                size_hint_y: None
                height: delete_command_btn.height

                on_release: root.save_command()

            FontelloButton:
                id: delete_command_btn
                text: 'C'
                size_hint: None, None
                padding: dp(10), dp(10)
                size: self.texture_size
                background_color: 1, 0, 0, 1

                on_release: root.delete_command()

            Button:
                text: 'Отмена'
                size_hint_y: None
                height: delete_command_btn.height

                on_release: root.dismiss()
